# =============================================================================
# Shared SSO Environment Configuration - EXAMPLE
# =============================================================================
# Copy this file to .env.shared and customize the values below
# This file contains environment variables shared across all SSO applications
# (Central SSO, Tenant 1, Tenant 2). Service-specific variables are defined
# in their respective .env files (.env.central-sso, .env.tenant1-app, etc.)

# =============================================================================
# APPLICATION SETTINGS (Shared)
# =============================================================================
APP_ENV=local                                              # Set to 'production' for production
APP_DEBUG=true                                             # Set to false for production
LOG_LEVEL=debug                                            # Use 'info' or 'error' for production
BCRYPT_ROUNDS=12

# =============================================================================
# DATABASE CONFIGURATION (Shared Connection)
# =============================================================================
DB_CONNECTION=mysql
DB_HOST=mariadb                                            # Use actual DB host for non-Docker
DB_PORT=3306
DB_USERNAME=sso_user
DB_PASSWORD=change_this_password                           # Use secure password (must match .env.mariadb)

# =============================================================================
# SESSION CONFIGURATION (Shared Settings)
# =============================================================================
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=localhost                                   # Change for production domain
SESSION_SECURE_COOKIE=false                               # Set to true for HTTPS
SESSION_SAME_SITE=lax

# =============================================================================
# HTTPS AND SSL CONFIGURATION (Shared)
# =============================================================================
TRUSTED_PROXIES=*                                          # Use specific IPs for production

# =============================================================================
# SHARED SECURITY CONFIGURATION
# =============================================================================
# CRITICAL: HMAC_SECRET must be identical across ALL applications
HMAC_SECRET=generate_64_character_hmac_secret_here          # Generate secure 64-char random string
HMAC_ALGORITHM=sha256
VERIFY_REQUEST_SIGNATURES=true
REQUEST_TIMEOUT_MINUTES=5

# =============================================================================
# CACHE AND QUEUE CONFIGURATION (Shared)
# =============================================================================
CACHE_STORE=database                                       # Use 'redis' for production
QUEUE_CONNECTION=database                                  # Use 'redis' for production
BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local

# =============================================================================
# MAIL CONFIGURATION (Shared)
# =============================================================================
MAIL_MAILER=log                                            # Use 'smtp' for production
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1                                       # Your SMTP server
MAIL_PORT=2525                                             # Your SMTP port
MAIL_USERNAME=null                                         # Your SMTP username
MAIL_PASSWORD=null                                         # Your SMTP password

# =============================================================================
# LARAVEL FRAMEWORK SETTINGS (Shared)
# =============================================================================
APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US
APP_MAINTENANCE_DRIVER=file
PHP_CLI_SERVER_WORKERS=4

# =============================================================================
# DEVELOPMENT TOOLS (Shared)
# =============================================================================
TELESCOPE_ENABLED=true                                     # Set to false for production
TELESCOPE_PATH=telescope

# =============================================================================
# RATE LIMITING (Shared)
# =============================================================================
RATE_LIMIT_API=60                                          # API requests per minute
RATE_LIMIT_AUTH=10                                         # Auth requests per minute
RATE_LIMIT_AUDIT=100                                       # Audit requests per minute

# =============================================================================
# REDIS CONFIGURATION (Shared - Optional)
# =============================================================================
REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1                                      # Your Redis server
REDIS_PASSWORD=null                                        # Your Redis password
REDIS_PORT=6379

# =============================================================================
# AWS CONFIGURATION (Shared - Optional)
# =============================================================================
AWS_ACCESS_KEY_ID=                                         # Your AWS access key
AWS_SECRET_ACCESS_KEY=                                     # Your AWS secret key
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=                                               # Your S3 bucket name
AWS_USE_PATH_STYLE_ENDPOINT=false

# =============================================================================
# MEMCACHED CONFIGURATION (Shared)
# =============================================================================
MEMCACHED_HOST=127.0.0.1

# =============================================================================
# SECURITY NOTES
# =============================================================================
# - The HMAC_SECRET is CRITICAL and must be identical across all applications
# - Use strong passwords for database connections
# - Set APP_DEBUG=false and TELESCOPE_ENABLED=false for production
# - Use Redis for cache and queues in production for better performance
# - Configure proper MAIL settings for production email sending